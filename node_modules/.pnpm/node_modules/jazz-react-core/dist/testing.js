import { jsx as _jsx } from "react/jsx-runtime";
import { TestJazzContextManager } from "jazz-tools/testing";
import { useCallback, useState, useSyncExternalStore } from "react";
import { JazzContext, JazzContextManagerContext } from "./provider.js";
export function JazzTestProvider({ children, account, isAuthenticated, }) {
    const [contextManager] = useState(() => {
        return TestJazzContextManager.fromAccountOrGuest(account, {
            isAuthenticated,
        });
    });
    const value = useSyncExternalStore(useCallback((callback) => contextManager.subscribe(callback), []), () => contextManager.getCurrentValue(), () => contextManager.getCurrentValue());
    return (_jsx(JazzContext.Provider, { value: value, children: _jsx(JazzContextManagerContext.Provider, { value: contextManager, children: children }) }));
}
export { createJazzTestAccount, createJazzTestGuest, linkAccounts, setActiveAccount, setupJazzTestSync, } from "jazz-tools/testing";
//# sourceMappingURL=testing.js.map