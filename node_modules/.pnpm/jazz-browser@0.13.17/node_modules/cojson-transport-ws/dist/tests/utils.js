// biome-ignore lint/suspicious/noConfusingVoidType: Test helper
export function waitFor(callback) {
    return new Promise((resolve, reject) => {
        const checkPassed = () => {
            try {
                return { ok: callback(), error: null };
            }
            catch (error) {
                return { ok: false, error };
            }
        };
        let retries = 0;
        const interval = setInterval(() => {
            const { ok, error } = checkPassed();
            if (ok !== false) {
                clearInterval(interval);
                resolve();
            }
            if (++retries > 10) {
                clearInterval(interval);
                reject(error);
            }
        }, 100);
    });
}
//# sourceMappingURL=utils.js.map